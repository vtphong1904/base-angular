<ng-container *transloco="let t">
  <div class="h-full w-full flex flex-col justify-between">
    <table mat-table [dataSource]="rows" class="demo-table w-full bg-transparent ">

      <ng-container *ngFor="let column of columns" [matColumnDef]="column.columnDef">

        <!--Header table-->
        <th mat-header-cell *matHeaderCellDef [style.width]="calcColumnWidth(column)" class="bg-white border-b">
          <div class="flex w-full px-1">
            <span>{{column.header}}</span>
          </div>
        </th>

        <!--Content table-->
        <td mat-cell *matCellDef="let row" class="px-1">

          <ng-container [ngSwitch]="column.columnDef">
            <ng-container *ngSwitchCase="'stt'">
              <div class="pl-2">{{getRowIndex(row) + 1}}</div>
            </ng-container>

            <ng-container *ngSwitchDefault>
              <ng-container [ngTemplateOutlet]="rowTemplate || defaultRowTemplate"
                            [ngTemplateOutletContext]="{row: row, column: column, index: getRowIndex(row)}">
              </ng-container>
              <ng-template #defaultRowTemplate>
                <app-td-table-default
                  [text]="column.cellRenderer ? column.cellRenderer(row) : row[column.columnDef]"></app-td-table-default>
              </ng-template>
            </ng-container>
          </ng-container>
        </td>

      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true" class="h-12"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="h-16"></tr>
    </table>
    <mat-paginator *ngIf="!!pagination.isShow" [pageSizeOptions]="[5, 10, 20]"
                   showFirstLastButtons
                   [pageSize]="pagination.size"
                   [length]="pagination.total"
                   (page)="changePage($event)">
    </mat-paginator>
  </div>
</ng-container>

